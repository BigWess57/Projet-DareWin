type ChallengeCreated @entity(immutable: true) {
  id: ID!
  admin: Bytes! # address
  challengeAddress: Bytes! # address
  blockNumber: BigInt! # uint256
  txHash: Bytes!         # transaction hash
  createdAt: BigInt!
  
  playersJoined: [PlayerJoined!]! @derivedFrom(field: "challenge")   # all joins
  playersWithdrawn: [PlayerWithdrawn!]! @derivedFrom(field: "challenge")  # all withdraws
  playersVoted: [PlayerVoted!]! @derivedFrom(field: "challenge")  # all votes
}

type PlayerJoined @entity(immutable: true) {
  id: ID!
  challenge: ChallengeCreated!
  player: Bytes!
  timestamp: BigInt!
}

type PlayerWithdrawn @entity(immutable: true) {
  id: ID!
  challenge: ChallengeCreated!
  player: Bytes!
  timestamp: BigInt!
}

type PlayerVoted @entity(immutable: true) {
  id: ID!
  challenge: ChallengeCreated!
  player: Bytes!
  votedFor: Bytes!
  timestamp: BigInt!
}